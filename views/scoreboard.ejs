<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Express â€¢ TodoMVC</title>
		<link rel="stylesheet" href="/css/base.css">
		<link rel="stylesheet" href="/css/index.css">
		<link rel="stylesheet" href="/css/app.css">
	</head>
	<body>
		<section class="todoapp">
            <%include header %>
			<nav class="nav">
				<ul>
					<li class="user"><%= user.name || user.username || user.email %></li>
					<%# Write a link to a page /scoreboard %>
					<li>
						<a href="/">Fangmeldung</a>
					</li>
					<li>
						<a href="/rules">Regeln</a>
					</li>
					<li>
						<form action="/logout" method="post">
							<button class="logout" type="submit">Abmelden</button>
						</form>
					</li>
				</ul>
			</nav>		
		 <!-- Check if there are scores to display -->
		 <% if (scores && scores.length > 0) { %>
			<table>
				<thead>
					<tr>
						<th>Platz</th>
						<th>Teilnehmer</th>
						<th>Punkte</th>
					</tr>
				</thead>
				<tbody>
					<% scores.forEach(function(score) { %>
						<tr>
							<td><%= score.ranking %></td>
							<td><%= score.username %></td>
							<td><%= score.total_points %></td>
						</tr>
					<% }); %>
				</tbody>
			</table>
		<% } else { %>
			<p>No scores available.</p>
		<% } %>
		<% include footer %>
	</section>
	</body>
</html>
